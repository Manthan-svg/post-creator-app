<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
     <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
</head>
</head>
<body>
    <div class="min-h-[100vh] w-[100%] text-white bg-zinc-900 p-10">
        <div class="flex justify-end">
            <form action="/users/logout" >
                <button type="submit" class="inline-block px-4 py-2 bg-red-600 border border-red-700 text-white rounded hover:bg-red-700 transition-colors duration-200">
                    Log Out
                </button>
            </form>
        </div>
        <h1 class="font-bold text-3xl">Hello, <%= user.username %>ðŸ‘‹</h1>
        <p class="text-lg mt-2">Welcome to your profile page!</p>

        <form class="flex flex-col" action="/posts/post" method="post">
            <textarea placeholder="What's is in your mind ?" class="resize-none bg-zinc-700 border-2 border-zinc-500 rounded-md outline-none p-2 h-[10vw] w-[25vw] mt-5" name="content" >
            </textarea>
            <button class="h-[40px] w-[14vw] bg-blue-400 mt-5 text-black text-[1.2vw] rounded-md outline-none cursor-pointer">Create Post</button>
        </form>

        <h2 class="text-lg mt-3">Your Post's..</h2>

        <div class="postcontainer flex justify-between flex-wrap mt-5 w-[100%] min-h-[9.5vw]">
            <% if (user.posts.length > 0) { %>
                <% user.posts.forEach(function(post) { %>
                    <div class="w-[30vw] h-[9.5vw] bg-zinc-800 p-2 rounded-sm mt-4">
                        <div>
                            <h1 class="text-blue-400">@<%= user.username %></h1>
                            <p class="text-sm text-zinc-300 mt-2"><%= post.content %></p>
                            <div class="mt-3 flex justify-between">
                                <div class="mt-9">
                                    <a class="text-sm text-blue-400" href="/posts/like/<%= post._id %>"><%=
                                       post.likes.indexOf(user._id) === -1 ? "Unlike" : "Like" %></a>
                                </div>
                                <a class="text-sm text-blue-400 mt-9" href="/posts/update/<%= post._id %>">Edit</a>
                            </div>
                        </div>
                    </div>
                <% }) %>
            <% } else { %>
                <div class="w-full h-[9.5vw] bg-zinc-800 p-2 rounded-sm flex items-center justify-center">
                    <span class="text-zinc-400">No posts yet. Start by creating your first post!</span>
                </div>
            <% } %>
        </div>





    </div>

    
</body>
</html>